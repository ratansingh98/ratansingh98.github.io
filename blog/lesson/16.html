<!DOCTYPE html>
<html>

<head>
  <title>Detecting Shapes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,minimum-scale=1">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700,300&amp;subset=latin-ext" rel="stylesheet" type="text/css">
  <link href="../css/bundle.css" rel="stylesheet" type="text/css">
  <link href="../css/blog-theme.css" rel="stylesheet" type="text/css">
  <link href="../css/blog-common.css" rel="stylesheet" type="text/css">
  <link href="../icons/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="shortcut-icon" href="/assets/icons/favicon.ico">
  <link rel="icon" href="../icons/logo.png"></head>

<body>
  <div data-blog-nav><nav class="blog-solid-nav"><div class="blog-solid-nav__inner"><a href="/index.html" class="blog-solid-nav__brand">Grandmaster.dev</a><a href="/about.html" class="blog-solid-nav__link">About</a><a href="/blog/index.html" class="blog-solid-nav__link is-active">Blog</a><a href="/contact.html" class="blog-solid-nav__link">Contact</a></div></nav></div>
  <div data-blog-banner></div>
  <section class="section-about">
    <div class="container">
      <h2>Shape Detection</h2>
      <p>The detection of shapes with the Hough transform is limited to circles. <strong>approxPolyDP()</strong> allows the approximation of polygons, so if your
image contains polygons, they will be quite accurately detected, combining the usage of
<strong>cv2.findContours</strong> and <strong>cv2.approxPolyDP</strong>.</p>
 <p>Hereâ€™s the example:
</p>

<p class="line">
  # Import Necessary library</code><br>
  <code>import cv2<br></code>
  <code>import numpy as np<br><br></code>
  # Read Input image<br>
<code>img = cv2.imread("shapes.png", cv2.IMREAD_GRAYSCALE)<br></code>
  # Set threshold from 240 to 255 intensity<br>
<code>_, threshold = cv2.threshold(img, 240, 255, cv2.THRESH_BINARY)<br></code>
# Find Contours in image<br>
<code>_, contours, _ = cv2.findContours(threshold, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)<br></code>
# Set font to FONT_HERSHEY_COMPLEX<br>
<code>font = cv2.FONT_HERSHEY_COMPLEX<br></code>
# Loop through the contours and label them<br>
<code>for cnt in contours:<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;approx = cv2.approxPolyDP(cnt, 0.01*cv2.arcLength(cnt, True), True)<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;cv2.drawContours(img, [approx], 0, (0), 5)<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;x = approx.ravel()[0]<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;y = approx.ravel()[1]<br></code>

    <code>&nbsp;&nbsp;&nbsp;&nbsp;if len(approx) == 3:<br></code>
        <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.putText(img, "Triangle", (x, y), font, 1, (0))<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;elif len(approx) == 4:<br></code>
        <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.putText(img, "Rectangle", (x, y), font, 1, (0))<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;elif len(approx) == 5:<br></code>
        <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.putText(img, "Pentagon", (x, y), font, 1, (0))<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;elif 6 < len(approx) < 15:<br></code>
        <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.putText(img, "Ellipse", (x, y), font, 1, (0))<br></code>
    <code>&nbsp;&nbsp;&nbsp;&nbsp;else:<br></code>
        <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.putText(img, "Circle", (x, y), font, 1, (0))<br></code>
<br><br>
# Save Output Image<br>
<code>cv2.imwrite("DetectedShapes.jpg", img)<br></code>


</p>



<p><strong>Input Image is: </strong></p>
<img src="../image/shapes.png" height="150px"/>

<p><strong>Output Image for Hough Cirlces will be: </strong></p>
<img src="../image/DetectedShapes.jpg" height="150px"/>

    </div>

    <div class="pagination ">
      <a class="toggler" href="15.html">Prev</a>
      <a  class="toggler" href="17.html">Next</a>
    </div>
  </section>
  <div data-blog-footer></div>
  <div class="google-rainbow">
    <div class="rainbow-item"></div>
    <div class="rainbow-item"></div>
    <div class="rainbow-item"></div>
    <div class="rainbow-item"></div>
  </div>
  <script src="../js/blog-layout.js"></script>
  <script src="../js/bundle.js"></script>
</body>

</html>
